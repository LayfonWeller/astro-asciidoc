---
import Layout from "~/layouts/Main.astro";
import { getEntry, render } from "astro:content";

const entry = await getEntry("blog", "index");

if (!entry) {
  throw new Error(`Entry not found: blog/index`);
}

console.log(`Loaded entry: ${JSON.stringify(entry,  null , 4)}`);

const { Content, headings, remarkPluginFrontmatter } = await render(entry);

const frontmatter = remarkPluginFrontmatter;

const title = frontmatter.title || "No Title";

console.log(`Loaded doc: ${JSON.stringify(headings,  null , 4)}`);

---


<Layout title={title} headings={headings} frontmatter={frontmatter}>
  <p>written by {frontmatter.asciidoc.author}</p>
  <Content />
  <p>File: {entry.filePath}</p>
</Layout>